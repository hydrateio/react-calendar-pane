{"version":3,"file":"index.js","sources":["../src/Day.js","../src/DayOfWeek.js","../src/Week.js","../src/Calendar.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Day extends Component {\n  render() {\n    const {\n      today,\n      date,\n      selected,\n      classes,\n      handleClick,\n      children,\n      disabled\n    } = this.props\n\n    const classNames = ['Day']\n    if (today.isSame(date, 'day')) {\n      classNames.push('today')\n    }\n    if (selected && selected.isSame(date, 'day')) {\n      classNames.push('selected')\n    }\n\n    let body\n    if (!!children) {\n      body = children\n    } else {\n      body = (\n        <button\n          className=\"Day-inner\"\n          onClick={() => handleClick(date)}\n          type=\"button\"\n          disabled={disabled}\n        >\n          {date.format('D')}\n        </button>\n      )\n    }\n\n    return (\n      <td\n        className={[...classNames, ...classes].join(' ')}\n        data-date={date.toISOString()}\n        data-day={date.format('D')}\n      >\n        {body}\n      </td>\n    )\n  }\n}\n\nDay.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  date: PropTypes.object.isRequired,\n  today: PropTypes.object.isRequired,\n  selected: PropTypes.object,\n  children: PropTypes.node,\n  disabled: PropTypes.bool,\n}\n\nexport default Day\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment'\n\nconst DayOfWeek = ({ date }) => (\n  <th className=\"DayOfWeek\">{date.format('dd')}</th>\n)\n\nDayOfWeek.propTypes = {\n  date: PropTypes.instanceOf(moment).isRequired,\n}\n\nexport default DayOfWeek\n","import React from 'react'\n\nconst Week = ({ children }) => <tr className=\"Week\">{children}</tr>\n\nexport default Week\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport moment from 'moment'\nimport Day from './Day'\nimport DayOfWeek from './DayOfWeek'\nimport Week from './Week'\n\nclass Calendar extends Component {\n  constructor(props) {\n    super(props)\n    let date = props.date\n    let month\n    if (date) {\n      month = props.date\n    } else {\n      month = props.month\n    }\n    this.state = {\n      date: date,\n      month: month,\n    }\n\n    this.previous = this.previous.bind(this)\n    this.next = this.next.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  componentWillMount() {\n    moment.locale(this.props.locale)\n\n    if (!!this.state.date) {\n      this.state.date.locale(this.props.locale)\n    }\n\n    this.state.month.locale(this.props.locale)\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    moment.locale(this.props.locale)\n\n    if (!!nextState.date) {\n      nextState.date.locale(this.props.locale)\n    }\n\n    nextState.month.locale(this.props.locale)\n  }\n\n  handleClick(date) {\n    const flag = this.props.onSelect(date, this.state.date, this.state.month)\n\n    if (flag === true) {\n      this.setState({\n        date: moment(date),\n      })\n    } else if (flag === false) {\n      this.setState({\n        date: null,\n      })\n    }\n  }\n\n  previous() {\n    this.setState({\n      month: moment(this.state.month).subtract(1, 'month'),\n    })\n  }\n\n  next() {\n    this.setState({\n      month: moment(this.state.month).add(1, 'month'),\n    })\n  }\n\n  render() {\n    const { startOfWeekIndex, dayRenderer, preventFutureDates } = this.props\n\n    const classes = ['Calendar', this.props.className].join(' ')\n\n    const today = moment()\n\n    const date = this.state.date\n    const month = this.state.month\n\n    const current = month\n      .clone()\n      .startOf('month')\n      .day(startOfWeekIndex)\n    if (current.date() > 1 && current.date() < 7) {\n      current.subtract(7, 'd')\n    }\n\n    const end = month\n      .clone()\n      .endOf('month')\n      .day(7 + startOfWeekIndex)\n\n    if (end.date() > 7) {\n      end.subtract(7, 'd')\n    }\n\n    const elements = []\n    let days = []\n    let week = 1\n    let i = 1\n    const daysOfWeek = []\n    const day = current.clone()\n    for (let j = 0; j < 7; j++) {\n      const dayOfWeekKey = 'dayOfWeek' + j\n      daysOfWeek.push(<DayOfWeek key={dayOfWeekKey} date={day.clone()} />)\n      day.add(1, 'days')\n    }\n    while (current.isBefore(end)) {\n      let dayClasses = this.props.dayClasses(current)\n      if (!current.isSame(month, 'month')) {\n        dayClasses = dayClasses.concat(['other-month'])\n      }\n      const disabled = preventFutureDates && current.isAfter(date)\n\n      let props = {\n        date: current.clone(),\n        selected: date,\n        month: month,\n        today: today,\n        classes: dayClasses,\n        handleClick: this.handleClick,\n        disabled\n      }\n\n      let children\n      if (!!dayRenderer) {\n        children = dayRenderer(props)\n      }\n\n      days.push(\n        <Day key={i++} {...props}>\n          {children}\n        </Day>\n      )\n      current.add(1, 'days')\n      if (current.day() === startOfWeekIndex) {\n        let weekKey = 'week' + week++\n        elements.push(<Week key={weekKey}>{days}</Week>)\n        days = []\n      }\n    }\n\n    let nav\n\n    if (this.props.useNav) {\n      let disabled =\n        preventFutureDates && end.isAfter(date) && month.isSame(date, 'month')\n\n      nav = (\n        <tr className=\"month-header\">\n          <th className=\"nav previous\">\n            <button className=\"nav-inner\" onClick={this.previous} type=\"button\">\n              «\n            </button>\n          </th>\n          <th colSpan=\"5\">\n            <span className=\"month\">{month.format('MMMM')}</span>{' '}\n            <span className=\"year\">{month.format('YYYY')}</span>\n          </th>\n          <th className=\"nav next\">\n            <button\n              className=\"nav-inner\"\n              onClick={this.next}\n              type=\"button\"\n              disabled={disabled}\n            >\n              »\n            </button>\n          </th>\n        </tr>\n      )\n    } else {\n      nav = (\n        <tr className=\"month-header\">\n          <th colSpan=\"7\">\n            <span className=\"month\">{month.format('MMMM')}</span>{' '}\n            <span className=\"year\">{month.format('YYYY')}</span>\n          </th>\n        </tr>\n      )\n    }\n\n    return (\n      <table className={classes}>\n        <thead>{nav}</thead>\n        <thead>\n          <tr className=\"days-header\">{daysOfWeek}</tr>\n        </thead>\n        <tbody>{elements}</tbody>\n      </table>\n    )\n  }\n}\nCalendar.defaultProps = {\n  month: moment(),\n  dayClasses: () => [],\n  useNav: true,\n  locale: 'en',\n  startOfWeekIndex: 0,\n}\nCalendar.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n  date: PropTypes.object,\n  month: PropTypes.object,\n  dayClasses: PropTypes.func,\n  useNav: PropTypes.bool,\n  locale: PropTypes.string,\n  startOfWeekIndex: PropTypes.number,\n  dayRenderer: PropTypes.func,\n  preventFutureDates: PropTypes.bool,\n}\n\nexport default Calendar\n"],"names":["Day","props","today","date","selected","classes","handleClick","children","disabled","classNames","isSame","push","body","React","format","join","toISOString","Component","propTypes","PropTypes","func","isRequired","object","node","bool","DayOfWeek","instanceOf","moment","Week","Calendar","month","state","previous","bind","next","locale","nextProps","nextState","flag","onSelect","setState","subtract","add","startOfWeekIndex","dayRenderer","preventFutureDates","className","current","clone","startOf","day","end","endOf","elements","days","week","i","daysOfWeek","j","dayOfWeekKey","isBefore","dayClasses","concat","isAfter","weekKey","nav","useNav","defaultProps","string","number"],"mappings":"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"}