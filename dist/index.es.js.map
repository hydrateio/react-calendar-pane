{"version":3,"file":"index.es.js","sources":["../src/Day.js","../src/DayOfWeek.js","../src/Week.js","../src/Calendar.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass Day extends Component {\n  render() {\n    const {\n      today,\n      date,\n      selected,\n      classes,\n      handleClick,\n      children,\n    } = this.props\n\n    const classNames = ['Day']\n    if (today.isSame(date, 'day')) {\n      classNames.push('today')\n    }\n    if (selected && selected.isSame(date, 'day')) {\n      classNames.push('selected')\n    }\n\n    let body\n    if (!!children) {\n      body = children\n    } else {\n      body = (\n        <button\n          className=\"Day-inner\"\n          onClick={() => handleClick(date)}\n          type=\"button\"\n        >\n          {date.format('D')}\n        </button>\n      )\n    }\n\n    return (\n      <td\n        className={[...classNames, ...classes].join(' ')}\n        data-date={date.toISOString()}\n        data-day={date.format('D')}\n      >\n        {body}\n      </td>\n    )\n  }\n}\n\nDay.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  date: PropTypes.object.isRequired,\n  today: PropTypes.object.isRequired,\n  selected: PropTypes.object,\n  children: PropTypes.node,\n}\n\nexport default Day\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport moment from 'moment'\n\nconst DayOfWeek = ({ date }) => (\n  <th className=\"DayOfWeek\">{date.format('dd')}</th>\n)\n\nDayOfWeek.propTypes = {\n  date: PropTypes.instanceOf(moment).isRequired,\n}\n\nexport default DayOfWeek\n","import React from 'react'\n\nconst Week = ({ children }) => <tr className=\"Week\">{children}</tr>\n\nexport default Week\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport moment from 'moment'\nimport Day from './Day'\nimport DayOfWeek from './DayOfWeek'\nimport Week from './Week'\n\nclass Calendar extends Component {\n  constructor(props) {\n    super(props)\n    let date = props.date\n    let month\n    if (date) {\n      month = props.date\n    } else {\n      month = props.month\n    }\n    this.state = {\n      date: date,\n      month: month,\n    }\n\n    this.previous = this.previous.bind(this)\n    this.next = this.next.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  componentWillMount() {\n    moment.locale(this.props.locale)\n\n    if (!!this.state.date) {\n      this.state.date.locale(this.props.locale)\n    }\n\n    this.state.month.locale(this.props.locale)\n  }\n\n  componentWillUpdate(nextProps, nextState) {\n    moment.locale(this.props.locale)\n\n    if (!!nextState.date) {\n      nextState.date.locale(this.props.locale)\n    }\n\n    nextState.month.locale(this.props.locale)\n  }\n\n  handleClick(date) {\n    const flag = this.props.onSelect(date, this.state.date, this.state.month)\n\n    if (flag === true) {\n      this.setState({\n        date: moment(date),\n      })\n    } else if (flag === false) {\n      this.setState({\n        date: null,\n      })\n    }\n  }\n\n  previous() {\n    this.setState({\n      month: moment(this.state.month).subtract(1, 'month'),\n    })\n  }\n\n  next() {\n    this.setState({\n      month: moment(this.state.month).add(1, 'month'),\n    })\n  }\n\n  render() {\n    const { startOfWeekIndex, dayRenderer } = this.props\n\n    const classes = ['Calendar', this.props.className].join(' ')\n\n    const today = moment()\n\n    const date = this.state.date\n    const month = this.state.month\n\n    const current = month\n      .clone()\n      .startOf('month')\n      .day(startOfWeekIndex)\n    if (current.date() > 1 && current.date() < 7) {\n      current.subtract(7, 'd')\n    }\n\n    const end = month\n      .clone()\n      .endOf('month')\n      .day(7 + startOfWeekIndex)\n\n    if (end.date() > 7) {\n      end.subtract(7, 'd')\n    }\n\n    const elements = []\n    let days = []\n    let week = 1\n    let i = 1\n    const daysOfWeek = []\n    const day = current.clone()\n    for (let j = 0; j < 7; j++) {\n      const dayOfWeekKey = 'dayOfWeek' + j\n      daysOfWeek.push(<DayOfWeek key={dayOfWeekKey} date={day.clone()} />)\n      day.add(1, 'days')\n    }\n    while (current.isBefore(end)) {\n      let dayClasses = this.props.dayClasses(current)\n      if (!current.isSame(month, 'month')) {\n        dayClasses = dayClasses.concat(['other-month'])\n      }\n      let props = {\n        date: current.clone(),\n        selected: date,\n        month: month,\n        today: today,\n        classes: dayClasses,\n        handleClick: this.handleClick,\n      }\n\n      let children\n      if (!!dayRenderer) {\n        children = dayRenderer(props)\n      }\n\n      days.push(\n        <Day key={i++} {...props}>\n          {children}\n        </Day>\n      )\n      current.add(1, 'days')\n      if (current.day() === startOfWeekIndex) {\n        let weekKey = 'week' + week++\n        elements.push(<Week key={weekKey}>{days}</Week>)\n        days = []\n      }\n    }\n\n    let nav\n\n    if (this.props.useNav) {\n      nav = (\n        <tr className=\"month-header\">\n          <th className=\"nav previous\">\n            <button className=\"nav-inner\" onClick={this.previous} type=\"button\">\n              «\n            </button>\n          </th>\n          <th colSpan=\"5\">\n            <span className=\"month\">{month.format('MMMM')}</span>{' '}\n            <span className=\"year\">{month.format('YYYY')}</span>\n          </th>\n          <th className=\"nav next\">\n            <button className=\"nav-inner\" onClick={this.next} type=\"button\">\n              »\n            </button>\n          </th>\n        </tr>\n      )\n    } else {\n      nav = (\n        <tr className=\"month-header\">\n          <th colSpan=\"7\">\n            <span className=\"month\">{month.format('MMMM')}</span>{' '}\n            <span className=\"year\">{month.format('YYYY')}</span>\n          </th>\n        </tr>\n      )\n    }\n\n    return (\n      <table className={classes}>\n        <thead>{nav}</thead>\n        <thead>\n          <tr className=\"days-header\">{daysOfWeek}</tr>\n        </thead>\n        <tbody>{elements}</tbody>\n      </table>\n    )\n  }\n}\nCalendar.defaultProps = {\n  month: moment(),\n  dayClasses: () => [],\n  useNav: true,\n  locale: 'en',\n  startOfWeekIndex: 0,\n}\nCalendar.propTypes = {\n  onSelect: PropTypes.func.isRequired,\n  date: PropTypes.object,\n  month: PropTypes.object,\n  dayClasses: PropTypes.func,\n  useNav: PropTypes.bool,\n  locale: PropTypes.string,\n  startOfWeekIndex: PropTypes.number,\n  dayRenderer: PropTypes.func,\n}\n\nexport default Calendar\n"],"names":["Day","props","today","date","selected","classes","handleClick","children","classNames","isSame","push","body","format","join","toISOString","Component","propTypes","PropTypes","func","isRequired","object","node","DayOfWeek","instanceOf","moment","Week","Calendar","month","state","previous","bind","next","locale","nextProps","nextState","flag","onSelect","setState","subtract","add","startOfWeekIndex","dayRenderer","className","current","clone","startOf","day","end","endOf","elements","days","week","i","daysOfWeek","j","dayOfWeekKey","isBefore","dayClasses","concat","weekKey","nav","useNav","defaultProps","bool","string","number"],"mappings":"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"}